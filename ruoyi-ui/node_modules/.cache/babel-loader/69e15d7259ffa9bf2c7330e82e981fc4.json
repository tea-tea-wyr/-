{"remainingRequest":"D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\src\\utils\\generator\\js.js","dependencies":[{"path":"D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\src\\utils\\generator\\js.js","mtime":1610278952607},{"path":"D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\GitHub-fork\\Background-management-system-of-campus-activities\\ruoyi-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLm1ha2VVcEpzID0gbWFrZVVwSnM7Cgp2YXIgX3V0aWwgPSByZXF1aXJlKCJ1dGlsIik7Cgp2YXIgX2luZGV4ID0gcmVxdWlyZSgiQC91dGlscy9pbmRleCIpOwoKdmFyIF9jb25maWcgPSByZXF1aXJlKCIuL2NvbmZpZyIpOwoKdmFyIHVuaXRzID0gewogIEtCOiAnMTAyNCcsCiAgTUI6ICcxMDI0IC8gMTAyNCcsCiAgR0I6ICcxMDI0IC8gMTAyNCAvIDEwMjQnCn07CnZhciBjb25mR2xvYmFsOwp2YXIgaW5oZXJpdEF0dHJzID0gewogIGZpbGU6ICcnLAogIGRpYWxvZzogJ2luaGVyaXRBdHRyczogZmFsc2UsJwp9OwoKZnVuY3Rpb24gbWFrZVVwSnMoY29uZiwgdHlwZSkgewogIGNvbmZHbG9iYWwgPSBjb25mID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb25mKSk7CiAgdmFyIGRhdGFMaXN0ID0gW107CiAgdmFyIHJ1bGVMaXN0ID0gW107CiAgdmFyIG9wdGlvbnNMaXN0ID0gW107CiAgdmFyIHByb3BzTGlzdCA9IFtdOwogIHZhciBtZXRob2RMaXN0ID0gbWl4aW5NZXRob2QodHlwZSk7CiAgdmFyIHVwbG9hZFZhckxpc3QgPSBbXTsKICBjb25mLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgYnVpbGRBdHRyaWJ1dGVzKGVsLCBkYXRhTGlzdCwgcnVsZUxpc3QsIG9wdGlvbnNMaXN0LCBtZXRob2RMaXN0LCBwcm9wc0xpc3QsIHVwbG9hZFZhckxpc3QpOwogIH0pOwogIHZhciBzY3JpcHQgPSBidWlsZGV4cG9ydChjb25mLCB0eXBlLCBkYXRhTGlzdC5qb2luKCdcbicpLCBydWxlTGlzdC5qb2luKCdcbicpLCBvcHRpb25zTGlzdC5qb2luKCdcbicpLCB1cGxvYWRWYXJMaXN0LmpvaW4oJ1xuJyksIHByb3BzTGlzdC5qb2luKCdcbicpLCBtZXRob2RMaXN0LmpvaW4oJ1xuJykpOwogIGNvbmZHbG9iYWwgPSBudWxsOwogIHJldHVybiBzY3JpcHQ7Cn0KCmZ1bmN0aW9uIGJ1aWxkQXR0cmlidXRlcyhlbCwgZGF0YUxpc3QsIHJ1bGVMaXN0LCBvcHRpb25zTGlzdCwgbWV0aG9kTGlzdCwgcHJvcHNMaXN0LCB1cGxvYWRWYXJMaXN0KSB7CiAgYnVpbGREYXRhKGVsLCBkYXRhTGlzdCk7CiAgYnVpbGRSdWxlcyhlbCwgcnVsZUxpc3QpOwoKICBpZiAoZWwub3B0aW9ucyAmJiBlbC5vcHRpb25zLmxlbmd0aCkgewogICAgYnVpbGRPcHRpb25zKGVsLCBvcHRpb25zTGlzdCk7CgogICAgaWYgKGVsLmRhdGFUeXBlID09PSAnZHluYW1pYycpIHsKICAgICAgdmFyIG1vZGVsID0gIiIuY29uY2F0KGVsLnZNb2RlbCwgIk9wdGlvbnMiKTsKICAgICAgdmFyIG9wdGlvbnMgPSAoMCwgX2luZGV4LnRpdGxlQ2FzZSkobW9kZWwpOwogICAgICBidWlsZE9wdGlvbk1ldGhvZCgiZ2V0Ii5jb25jYXQob3B0aW9ucyksIG1vZGVsLCBtZXRob2RMaXN0KTsKICAgIH0KICB9CgogIGlmIChlbC5wcm9wcyAmJiBlbC5wcm9wcy5wcm9wcykgewogICAgYnVpbGRQcm9wcyhlbCwgcHJvcHNMaXN0KTsKICB9CgogIGlmIChlbC5hY3Rpb24gJiYgZWwudGFnID09PSAnZWwtdXBsb2FkJykgewogICAgdXBsb2FkVmFyTGlzdC5wdXNoKCIiLmNvbmNhdChlbC52TW9kZWwsICJBY3Rpb246ICciKS5jb25jYXQoZWwuYWN0aW9uLCAiJyxcbiAgICAgICIpLmNvbmNhdChlbC52TW9kZWwsICJmaWxlTGlzdDogW10sIikpOwogICAgbWV0aG9kTGlzdC5wdXNoKGJ1aWxkQmVmb3JlVXBsb2FkKGVsKSk7CgogICAgaWYgKCFlbFsnYXV0by11cGxvYWQnXSkgewogICAgICBtZXRob2RMaXN0LnB1c2goYnVpbGRTdWJtaXRVcGxvYWQoZWwpKTsKICAgIH0KICB9CgogIGlmIChlbC5jaGlsZHJlbikgewogICAgZWwuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoZWwyKSB7CiAgICAgIGJ1aWxkQXR0cmlidXRlcyhlbDIsIGRhdGFMaXN0LCBydWxlTGlzdCwgb3B0aW9uc0xpc3QsIG1ldGhvZExpc3QsIHByb3BzTGlzdCwgdXBsb2FkVmFyTGlzdCk7CiAgICB9KTsKICB9Cn0KCmZ1bmN0aW9uIG1peGluTWV0aG9kKHR5cGUpIHsKICB2YXIgbGlzdCA9IFtdOwogIHZhciBtaW54aW5zID0gewogICAgZmlsZTogY29uZkdsb2JhbC5mb3JtQnRucyA/IHsKICAgICAgc3VibWl0Rm9ybTogInN1Ym1pdEZvcm0oKSB7XG4gICAgICAgIHRoaXMuJHJlZnNbJyIuY29uY2F0KGNvbmZHbG9iYWwuZm9ybVJlZiwgIiddLnZhbGlkYXRlKHZhbGlkID0+IHtcbiAgICAgICAgICBpZighdmFsaWQpIHJldHVyblxuICAgICAgICAgIC8vIFRPRE8gXHU2M0QwXHU0RUE0XHU4ODY4XHU1MzU1XG4gICAgICAgIH0pXG4gICAgICB9LCIpLAogICAgICByZXNldEZvcm06ICJyZXNldEZvcm0oKSB7XG4gICAgICAgIHRoaXMuJHJlZnNbJyIuY29uY2F0KGNvbmZHbG9iYWwuZm9ybVJlZiwgIiddLnJlc2V0RmllbGRzKClcbiAgICAgIH0sIikKICAgIH0gOiBudWxsLAogICAgZGlhbG9nOiB7CiAgICAgIG9uT3BlbjogJ29uT3BlbigpIHt9LCcsCiAgICAgIG9uQ2xvc2U6ICJvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLiRyZWZzWyciLmNvbmNhdChjb25mR2xvYmFsLmZvcm1SZWYsICInXS5yZXNldEZpZWxkcygpXG4gICAgICB9LCIpLAogICAgICBjbG9zZTogImNsb3NlKCkge1xuICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmlzaWJsZScsIGZhbHNlKVxuICAgICAgfSwiLAogICAgICBoYW5kZWxDb25maXJtOiAiaGFuZGVsQ29uZmlybSgpIHtcbiAgICAgICAgdGhpcy4kcmVmc1snIi5jb25jYXQoY29uZkdsb2JhbC5mb3JtUmVmLCAiJ10udmFsaWRhdGUodmFsaWQgPT4ge1xuICAgICAgICAgIGlmKCF2YWxpZCkgcmV0dXJuXG4gICAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICAgIH0pXG4gICAgICB9LCIpCiAgICB9CiAgfTsKICB2YXIgbWV0aG9kcyA9IG1pbnhpbnNbdHlwZV07CgogIGlmIChtZXRob2RzKSB7CiAgICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgbGlzdC5wdXNoKG1ldGhvZHNba2V5XSk7CiAgICB9KTsKICB9CgogIHJldHVybiBsaXN0Owp9CgpmdW5jdGlvbiBidWlsZERhdGEoY29uZiwgZGF0YUxpc3QpIHsKICBpZiAoY29uZi52TW9kZWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwogIHZhciBkZWZhdWx0VmFsdWU7CgogIGlmICh0eXBlb2YgY29uZi5kZWZhdWx0VmFsdWUgPT09ICdzdHJpbmcnICYmICFjb25mLm11bHRpcGxlKSB7CiAgICBkZWZhdWx0VmFsdWUgPSAiJyIuY29uY2F0KGNvbmYuZGVmYXVsdFZhbHVlLCAiJyIpOwogIH0gZWxzZSB7CiAgICBkZWZhdWx0VmFsdWUgPSAiIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoY29uZi5kZWZhdWx0VmFsdWUpKTsKICB9CgogIGRhdGFMaXN0LnB1c2goIiIuY29uY2F0KGNvbmYudk1vZGVsLCAiOiAiKS5jb25jYXQoZGVmYXVsdFZhbHVlLCAiLCIpKTsKfQoKZnVuY3Rpb24gYnVpbGRSdWxlcyhjb25mLCBydWxlTGlzdCkgewogIGlmIChjb25mLnZNb2RlbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgdmFyIHJ1bGVzID0gW107CgogIGlmIChfY29uZmlnLnRyaWdnZXJbY29uZi50YWddKSB7CiAgICBpZiAoY29uZi5yZXF1aXJlZCkgewogICAgICB2YXIgdHlwZSA9ICgwLCBfdXRpbC5pc0FycmF5KShjb25mLmRlZmF1bHRWYWx1ZSkgPyAndHlwZTogXCdhcnJheVwnLCcgOiAnJzsKICAgICAgdmFyIG1lc3NhZ2UgPSAoMCwgX3V0aWwuaXNBcnJheSkoY29uZi5kZWZhdWx0VmFsdWUpID8gIlx1OEJGN1x1ODFGM1x1NUMxMVx1OTAwOVx1NjJFOVx1NEUwMFx1NEUyQSIuY29uY2F0KGNvbmYudk1vZGVsKSA6IGNvbmYucGxhY2Vob2xkZXI7CiAgICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQpIG1lc3NhZ2UgPSAiIi5jb25jYXQoY29uZi5sYWJlbCwgIlx1NEUwRFx1ODBGRFx1NEUzQVx1N0E3QSIpOwogICAgICBydWxlcy5wdXNoKCJ7IHJlcXVpcmVkOiB0cnVlLCAiLmNvbmNhdCh0eXBlLCAiIG1lc3NhZ2U6ICciKS5jb25jYXQobWVzc2FnZSwgIicsIHRyaWdnZXI6ICciKS5jb25jYXQoX2NvbmZpZy50cmlnZ2VyW2NvbmYudGFnXSwgIicgfSIpKTsKICAgIH0KCiAgICBpZiAoY29uZi5yZWdMaXN0ICYmICgwLCBfdXRpbC5pc0FycmF5KShjb25mLnJlZ0xpc3QpKSB7CiAgICAgIGNvbmYucmVnTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0ucGF0dGVybikgewogICAgICAgICAgcnVsZXMucHVzaCgieyBwYXR0ZXJuOiAiLmNvbmNhdChldmFsKGl0ZW0ucGF0dGVybiksICIsIG1lc3NhZ2U6ICciKS5jb25jYXQoaXRlbS5tZXNzYWdlLCAiJywgdHJpZ2dlcjogJyIpLmNvbmNhdChfY29uZmlnLnRyaWdnZXJbY29uZi50YWddLCAiJyB9IikpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgcnVsZUxpc3QucHVzaCgiIi5jb25jYXQoY29uZi52TW9kZWwsICI6IFsiKS5jb25jYXQocnVsZXMuam9pbignLCcpLCAiXSwiKSk7CiAgfQp9CgpmdW5jdGlvbiBidWlsZE9wdGlvbnMoY29uZiwgb3B0aW9uc0xpc3QpIHsKICBpZiAoY29uZi52TW9kZWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICBpZiAoY29uZi5kYXRhVHlwZSA9PT0gJ2R5bmFtaWMnKSB7CiAgICBjb25mLm9wdGlvbnMgPSBbXTsKICB9CgogIHZhciBzdHIgPSAiIi5jb25jYXQoY29uZi52TW9kZWwsICJPcHRpb25zOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoY29uZi5vcHRpb25zKSwgIiwiKTsKICBvcHRpb25zTGlzdC5wdXNoKHN0cik7Cn0KCmZ1bmN0aW9uIGJ1aWxkUHJvcHMoY29uZiwgcHJvcHNMaXN0KSB7CiAgaWYgKGNvbmYuZGF0YVR5cGUgPT09ICdkeW5hbWljJykgewogICAgY29uZi52YWx1ZUtleSAhPT0gJ3ZhbHVlJyAmJiAoY29uZi5wcm9wcy5wcm9wcy52YWx1ZSA9IGNvbmYudmFsdWVLZXkpOwogICAgY29uZi5sYWJlbEtleSAhPT0gJ2xhYmVsJyAmJiAoY29uZi5wcm9wcy5wcm9wcy5sYWJlbCA9IGNvbmYubGFiZWxLZXkpOwogICAgY29uZi5jaGlsZHJlbktleSAhPT0gJ2NoaWxkcmVuJyAmJiAoY29uZi5wcm9wcy5wcm9wcy5jaGlsZHJlbiA9IGNvbmYuY2hpbGRyZW5LZXkpOwogIH0KCiAgdmFyIHN0ciA9ICIiLmNvbmNhdChjb25mLnZNb2RlbCwgIlByb3BzOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoY29uZi5wcm9wcy5wcm9wcyksICIsIik7CiAgcHJvcHNMaXN0LnB1c2goc3RyKTsKfQoKZnVuY3Rpb24gYnVpbGRCZWZvcmVVcGxvYWQoY29uZikgewogIHZhciB1bml0TnVtID0gdW5pdHNbY29uZi5zaXplVW5pdF07CiAgdmFyIHJpZ2h0U2l6ZUNvZGUgPSAnJzsKICB2YXIgYWNjZXB0Q29kZSA9ICcnOwogIHZhciByZXR1cm5MaXN0ID0gW107CgogIGlmIChjb25mLmZpbGVTaXplKSB7CiAgICByaWdodFNpemVDb2RlID0gImxldCBpc1JpZ2h0U2l6ZSA9IGZpbGUuc2l6ZSAvICIuY29uY2F0KHVuaXROdW0sICIgPCAiKS5jb25jYXQoY29uZi5maWxlU2l6ZSwgIlxuICAgIGlmKCFpc1JpZ2h0U2l6ZSl7XG4gICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCdcdTY1ODdcdTRFRjZcdTU5MjdcdTVDMEZcdThEODVcdThGQzcgIikuY29uY2F0KGNvbmYuZmlsZVNpemUpLmNvbmNhdChjb25mLnNpemVVbml0LCAiJylcbiAgICB9Iik7CiAgICByZXR1cm5MaXN0LnB1c2goJ2lzUmlnaHRTaXplJyk7CiAgfQoKICBpZiAoY29uZi5hY2NlcHQpIHsKICAgIGFjY2VwdENvZGUgPSAibGV0IGlzQWNjZXB0ID0gbmV3IFJlZ0V4cCgnIi5jb25jYXQoY29uZi5hY2NlcHQsICInKS50ZXN0KGZpbGUudHlwZSlcbiAgICBpZighaXNBY2NlcHQpe1xuICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignXHU1RTk0XHU4QkU1XHU5MDA5XHU2MkU5IikuY29uY2F0KGNvbmYuYWNjZXB0LCAiXHU3QzdCXHU1NzhCXHU3Njg0XHU2NTg3XHU0RUY2JylcbiAgICB9Iik7CiAgICByZXR1cm5MaXN0LnB1c2goJ2lzQWNjZXB0Jyk7CiAgfQoKICB2YXIgc3RyID0gIiIuY29uY2F0KGNvbmYudk1vZGVsLCAiQmVmb3JlVXBsb2FkKGZpbGUpIHtcbiAgICAiKS5jb25jYXQocmlnaHRTaXplQ29kZSwgIlxuICAgICIpLmNvbmNhdChhY2NlcHRDb2RlLCAiXG4gICAgcmV0dXJuICIpLmNvbmNhdChyZXR1cm5MaXN0LmpvaW4oJyYmJyksICJcbiAgfSwiKTsKICByZXR1cm4gcmV0dXJuTGlzdC5sZW5ndGggPyBzdHIgOiAnJzsKfQoKZnVuY3Rpb24gYnVpbGRTdWJtaXRVcGxvYWQoY29uZikgewogIHZhciBzdHIgPSAic3VibWl0VXBsb2FkKCkge1xuICAgIHRoaXMuJHJlZnNbJyIuY29uY2F0KGNvbmYudk1vZGVsLCAiJ10uc3VibWl0KClcbiAgfSwiKTsKICByZXR1cm4gc3RyOwp9CgpmdW5jdGlvbiBidWlsZE9wdGlvbk1ldGhvZChtZXRob2ROYW1lLCBtb2RlbCwgbWV0aG9kTGlzdCkgewogIHZhciBzdHIgPSAiIi5jb25jYXQobWV0aG9kTmFtZSwgIigpIHtcbiAgICAvLyBUT0RPIFx1NTNEMVx1OEQ3N1x1OEJGN1x1NkM0Mlx1ODNCN1x1NTNENlx1NjU3MFx1NjM2RVxuICAgIHRoaXMuIikuY29uY2F0KG1vZGVsLCAiXG4gIH0sIik7CiAgbWV0aG9kTGlzdC5wdXNoKHN0cik7Cn0KCmZ1bmN0aW9uIGJ1aWxkZXhwb3J0KGNvbmYsIHR5cGUsIGRhdGEsIHJ1bGVzLCBzZWxlY3RPcHRpb25zLCB1cGxvYWRWYXIsIHByb3BzLCBtZXRob2RzKSB7CiAgdmFyIHN0ciA9ICIiLmNvbmNhdChfaW5kZXguZXhwb3J0RGVmYXVsdCwgIntcbiAgIikuY29uY2F0KGluaGVyaXRBdHRyc1t0eXBlXSwgIlxuICBjb21wb25lbnRzOiB7fSxcbiAgcHJvcHM6IFtdLFxuICBkYXRhICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgIikuY29uY2F0KGNvbmYuZm9ybU1vZGVsLCAiOiB7XG4gICAgICAgICIpLmNvbmNhdChkYXRhLCAiXG4gICAgICB9LFxuICAgICAgIikuY29uY2F0KGNvbmYuZm9ybVJ1bGVzLCAiOiB7XG4gICAgICAgICIpLmNvbmNhdChydWxlcywgIlxuICAgICAgfSxcbiAgICAgICIpLmNvbmNhdCh1cGxvYWRWYXIsICJcbiAgICAgICIpLmNvbmNhdChzZWxlY3RPcHRpb25zLCAiXG4gICAgICAiKS5jb25jYXQocHJvcHMsICJcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7fSxcbiAgd2F0Y2g6IHt9LFxuICBjcmVhdGVkICgpIHt9LFxuICBtb3VudGVkICgpIHt9LFxuICBtZXRob2RzOiB7XG4gICAgIikuY29uY2F0KG1ldGhvZHMsICJcbiAgfVxufSIpOwogIHJldHVybiBzdHI7Cn0="},{"version":3,"sources":["D:/GitHub-fork/Background-management-system-of-campus-activities/ruoyi-ui/src/utils/generator/js.js"],"names":["units","KB","MB","GB","confGlobal","inheritAttrs","file","dialog","makeUpJs","conf","type","JSON","parse","stringify","dataList","ruleList","optionsList","propsList","methodList","mixinMethod","uploadVarList","fields","forEach","el","buildAttributes","script","buildexport","join","buildData","buildRules","options","length","buildOptions","dataType","model","vModel","buildOptionMethod","props","buildProps","action","tag","push","buildBeforeUpload","buildSubmitUpload","children","el2","list","minxins","formBtns","submitForm","formRef","resetForm","onOpen","onClose","close","handelConfirm","methods","Object","keys","key","undefined","defaultValue","multiple","rules","trigger","required","message","placeholder","label","regList","item","pattern","eval","str","valueKey","value","labelKey","childrenKey","unitNum","sizeUnit","rightSizeCode","acceptCode","returnList","fileSize","accept","methodName","data","selectOptions","uploadVar","exportDefault","formModel","formRules"],"mappings":"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","sourcesContent":["import { isArray } from 'util'\r\nimport { exportDefault, titleCase } from '@/utils/index'\r\nimport { trigger } from './config'\r\n\r\nconst units = {\r\n  KB: '1024',\r\n  MB: '1024 / 1024',\r\n  GB: '1024 / 1024 / 1024'\r\n}\r\nlet confGlobal\r\nconst inheritAttrs = {\r\n  file: '',\r\n  dialog: 'inheritAttrs: false,'\r\n}\r\n\r\n\r\nexport function makeUpJs(conf, type) {\r\n  confGlobal = conf = JSON.parse(JSON.stringify(conf))\r\n  const dataList = []\r\n  const ruleList = []\r\n  const optionsList = []\r\n  const propsList = []\r\n  const methodList = mixinMethod(type)\r\n  const uploadVarList = []\r\n\r\n  conf.fields.forEach(el => {\r\n    buildAttributes(el, dataList, ruleList, optionsList, methodList, propsList, uploadVarList)\r\n  })\r\n\r\n  const script = buildexport(\r\n    conf,\r\n    type,\r\n    dataList.join('\\n'),\r\n    ruleList.join('\\n'),\r\n    optionsList.join('\\n'),\r\n    uploadVarList.join('\\n'),\r\n    propsList.join('\\n'),\r\n    methodList.join('\\n')\r\n  )\r\n  confGlobal = null\r\n  return script\r\n}\r\n\r\nfunction buildAttributes(el, dataList, ruleList, optionsList, methodList, propsList, uploadVarList) {\r\n  buildData(el, dataList)\r\n  buildRules(el, ruleList)\r\n\r\n  if (el.options && el.options.length) {\r\n    buildOptions(el, optionsList)\r\n    if (el.dataType === 'dynamic') {\r\n      const model = `${el.vModel}Options`\r\n      const options = titleCase(model)\r\n      buildOptionMethod(`get${options}`, model, methodList)\r\n    }\r\n  }\r\n\r\n  if (el.props && el.props.props) {\r\n    buildProps(el, propsList)\r\n  }\r\n\r\n  if (el.action && el.tag === 'el-upload') {\r\n    uploadVarList.push(\r\n      `${el.vModel}Action: '${el.action}',\r\n      ${el.vModel}fileList: [],`\r\n    )\r\n    methodList.push(buildBeforeUpload(el))\r\n    if (!el['auto-upload']) {\r\n      methodList.push(buildSubmitUpload(el))\r\n    }\r\n  }\r\n\r\n  if (el.children) {\r\n    el.children.forEach(el2 => {\r\n      buildAttributes(el2, dataList, ruleList, optionsList, methodList, propsList, uploadVarList)\r\n    })\r\n  }\r\n}\r\n\r\nfunction mixinMethod(type) {\r\n  const list = []; const\r\n    minxins = {\r\n      file: confGlobal.formBtns ? {\r\n        submitForm: `submitForm() {\r\n        this.$refs['${confGlobal.formRef}'].validate(valid => {\r\n          if(!valid) return\r\n          // TODO 提交表单\r\n        })\r\n      },`,\r\n        resetForm: `resetForm() {\r\n        this.$refs['${confGlobal.formRef}'].resetFields()\r\n      },`\r\n      } : null,\r\n      dialog: {\r\n        onOpen: 'onOpen() {},',\r\n        onClose: `onClose() {\r\n        this.$refs['${confGlobal.formRef}'].resetFields()\r\n      },`,\r\n        close: `close() {\r\n        this.$emit('update:visible', false)\r\n      },`,\r\n        handelConfirm: `handelConfirm() {\r\n        this.$refs['${confGlobal.formRef}'].validate(valid => {\r\n          if(!valid) return\r\n          this.close()\r\n        })\r\n      },`\r\n      }\r\n    }\r\n\r\n  const methods = minxins[type]\r\n  if (methods) {\r\n    Object.keys(methods).forEach(key => {\r\n      list.push(methods[key])\r\n    })\r\n  }\r\n\r\n  return list\r\n}\r\n\r\nfunction buildData(conf, dataList) {\r\n  if (conf.vModel === undefined) return\r\n  let defaultValue\r\n  if (typeof (conf.defaultValue) === 'string' && !conf.multiple) {\r\n    defaultValue = `'${conf.defaultValue}'`\r\n  } else {\r\n    defaultValue = `${JSON.stringify(conf.defaultValue)}`\r\n  }\r\n  dataList.push(`${conf.vModel}: ${defaultValue},`)\r\n}\r\n\r\nfunction buildRules(conf, ruleList) {\r\n  if (conf.vModel === undefined) return\r\n  const rules = []\r\n  if (trigger[conf.tag]) {\r\n    if (conf.required) {\r\n      const type = isArray(conf.defaultValue) ? 'type: \\'array\\',' : ''\r\n      let message = isArray(conf.defaultValue) ? `请至少选择一个${conf.vModel}` : conf.placeholder\r\n      if (message === undefined) message = `${conf.label}不能为空`\r\n      rules.push(`{ required: true, ${type} message: '${message}', trigger: '${trigger[conf.tag]}' }`)\r\n    }\r\n    if (conf.regList && isArray(conf.regList)) {\r\n      conf.regList.forEach(item => {\r\n        if (item.pattern) {\r\n          rules.push(`{ pattern: ${eval(item.pattern)}, message: '${item.message}', trigger: '${trigger[conf.tag]}' }`)\r\n        }\r\n      })\r\n    }\r\n    ruleList.push(`${conf.vModel}: [${rules.join(',')}],`)\r\n  }\r\n}\r\n\r\nfunction buildOptions(conf, optionsList) {\r\n  if (conf.vModel === undefined) return\r\n  if (conf.dataType === 'dynamic') { conf.options = [] }\r\n  const str = `${conf.vModel}Options: ${JSON.stringify(conf.options)},`\r\n  optionsList.push(str)\r\n}\r\n\r\nfunction buildProps(conf, propsList) {\r\n  if (conf.dataType === 'dynamic') {\r\n    conf.valueKey !== 'value' && (conf.props.props.value = conf.valueKey)\r\n    conf.labelKey !== 'label' && (conf.props.props.label = conf.labelKey)\r\n    conf.childrenKey !== 'children' && (conf.props.props.children = conf.childrenKey)\r\n  }\r\n  const str = `${conf.vModel}Props: ${JSON.stringify(conf.props.props)},`\r\n  propsList.push(str)\r\n}\r\n\r\nfunction buildBeforeUpload(conf) {\r\n  const unitNum = units[conf.sizeUnit]; let rightSizeCode = ''; let acceptCode = ''; const\r\n    returnList = []\r\n  if (conf.fileSize) {\r\n    rightSizeCode = `let isRightSize = file.size / ${unitNum} < ${conf.fileSize}\r\n    if(!isRightSize){\r\n      this.$message.error('文件大小超过 ${conf.fileSize}${conf.sizeUnit}')\r\n    }`\r\n    returnList.push('isRightSize')\r\n  }\r\n  if (conf.accept) {\r\n    acceptCode = `let isAccept = new RegExp('${conf.accept}').test(file.type)\r\n    if(!isAccept){\r\n      this.$message.error('应该选择${conf.accept}类型的文件')\r\n    }`\r\n    returnList.push('isAccept')\r\n  }\r\n  const str = `${conf.vModel}BeforeUpload(file) {\r\n    ${rightSizeCode}\r\n    ${acceptCode}\r\n    return ${returnList.join('&&')}\r\n  },`\r\n  return returnList.length ? str : ''\r\n}\r\n\r\nfunction buildSubmitUpload(conf) {\r\n  const str = `submitUpload() {\r\n    this.$refs['${conf.vModel}'].submit()\r\n  },`\r\n  return str\r\n}\r\n\r\nfunction buildOptionMethod(methodName, model, methodList) {\r\n  const str = `${methodName}() {\r\n    // TODO 发起请求获取数据\r\n    this.${model}\r\n  },`\r\n  methodList.push(str)\r\n}\r\n\r\nfunction buildexport(conf, type, data, rules, selectOptions, uploadVar, props, methods) {\r\n  const str = `${exportDefault}{\r\n  ${inheritAttrs[type]}\r\n  components: {},\r\n  props: [],\r\n  data () {\r\n    return {\r\n      ${conf.formModel}: {\r\n        ${data}\r\n      },\r\n      ${conf.formRules}: {\r\n        ${rules}\r\n      },\r\n      ${uploadVar}\r\n      ${selectOptions}\r\n      ${props}\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  created () {},\r\n  mounted () {},\r\n  methods: {\r\n    ${methods}\r\n  }\r\n}`\r\n  return str\r\n}\r\n"]}]}